(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2844d74","chunk-0487d3f4"],{"1bb1":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("div",{staticClass:"container"},[a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("a-button-group",{staticStyle:{"margin-bottom":"10px"}},[a("a-tooltip",{attrs:{placement:"topLeft",title:"Eliminar elementos seleccionados"}},[a("a-button",{attrs:{icon:"delete",type:"danger"},on:{click:e.showDeleteConfirm}},[e._v("Eliminar")])],1)],1)],1),a("div",{staticClass:"col-md-6",staticStyle:{"text-align":"end"}})])])]),a("div",{staticClass:"row"},[a("a-modal",{staticClass:"modal-form",attrs:{title:e.selected_datos.get_id()?"Actualizar datos":"Añadir datos",width:"55rem",visible:e.show_modal_form,destroyOnClose:!0,"on-ok":"handleOk",header:null,footer:null,maskClosable:!1},on:{cancel:e.onCloseModal}},[a("datos_form",{attrs:{modal:!0,model:e.selected_datos}})],1),a("datos_table",{ref:"datos_table",staticClass:"col-md-8",attrs:{columns:e.columns,table_name:"Datos",id_table:"id",params_search:e.params_search,paginate:e.paginate}}),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"card"},[e._m(1),a("div",{staticClass:"card-body"},[a("p",[e._v("Promedio:"+e._s(e.promedio))]),a("p",[e._v("Cantidad de personas por sexo")]),a("p",[e._v("Masculino: "+e._s(e.masculino))]),a("p",[e._v("Femenino: "+e._s(e.femenino))]),a("p",[e._v("Mayor Edad:"+e._s(e.mayor_edad))]),a("p",[e._v("Menor Edad:"+e._s(e.menor_edad))])])])])],1)])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row row-breadcrumb"},[a("div",{staticClass:"col-md-6"},[a("h4",[e._v("Listado de Datos")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-header"},[a("h4",[e._v("Calculos")])])}],s=a("1da1"),i=(a("96cf"),a("d3b7"),a("159b"),a("2494")),l=a("5622"),r=a("3401"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-table",{attrs:{columns:e.columns,rowKey:function(t){return t[e.id_table]},dataSource:e.data,rowSelection:e.show_selection?e.rowSelection:null,loading:e.loading,pagination:e.pagination.$data,scroll:{x:"100%"}},on:{change:e.change_table},scopedSlots:e._u([{key:"action",fn:function(t){return e.visible_actions?a("a",{attrs:{href:"javascript:;"}},[a("action_buttons",{attrs:{object:t,visible_view:e.visible_view,visible_edit:e.visible_edit,visible_delete:e.visible_delete,v_instance:e.self,class_name:e.selected_model.class_name()}})],1):e._e()}},{key:"id",fn:function(t){return e._t("id",null,{record:t})}},{key:"nombre",fn:function(t){return e._t("nombre",null,{record:t})}},{key:"apellidos",fn:function(t){return e._t("apellidos",null,{record:t})}},{key:"edad",fn:function(t){return e._t("edad",null,{record:t})}},{key:"sexo",fn:function(t){return e._t("sexo",null,{record:t})}},{key:"correo",fn:function(t){return e._t("correo",null,{record:t})}}],null,!0)},[a("template",{slot:"title"},[e.visible_heading?a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-md-6 ml-3"},[a("div",{staticClass:"input-group mb-3"},[a("a-tooltip",{attrs:{placement:"topLeft",title:"Buscar.."}},[a("tc-input",{staticClass:"form-control-filter",attrs:{type:"text",placeholder:"Buscar","aria-label":"",debounce:e.paginate},on:{input:e.update_filter_debounce},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),a("a-tooltip",{attrs:{placement:"topLeft",title:"Limpiar Filtros"}},[a("a-button",{staticClass:"rounded",staticStyle:{"text-align":"end"},attrs:{type:"primary"},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fa fa-eraser",staticStyle:{"margin-right":"10px"}}),e._v("Limpiar ")])],1)],1)]),e.show_selection?a("div",{staticClass:"col-md-3",staticStyle:{"text-align":"end"}},[a("p",{staticClass:"export_table"},[e._v(" Elementos seleccionados "+e._s(e.selectedRowKeys.length)+"/"+e._s(e.data.length)+" ")])]):e._e(),a("div",{staticClass:"col-md-2"},[a("a-tooltip",{staticClass:"export_table",attrs:{placement:"topLeft",title:"Exportar"}},[a("a-dropdown-button",{},[a("a-icon",{attrs:{type:"export"}}),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{key:"1",on:{click:e.exportToExcel}},[a("a-icon",{attrs:{type:"file-excel",theme:"twoTone",twoToneColor:"#52c41a"}}),e._v(" EXCEL ")],1),a("a-menu-item",{key:"3",on:{click:e.exportToCSV}},[a("a-icon",{attrs:{type:"file-text",theme:"twoTone",twoToneColor:"#2771c4"}}),e._v(" CSV ")],1)],1)],1)],1)],1)]):e._e()])],2)},d=[],u=a("ade3"),m=a("5530"),f=(a("d81d"),a("4de4"),a("e9c4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icons-list"},[e.visible_edit?a("a-tooltip",{attrs:{placement:"top",title:"Modificar Elemento"}},[a("a-icon",{staticStyle:{"padding-right":"10px"},attrs:{type:"edit",theme:"twoTone"},on:{click:function(t){return e.v_instance.onEditing(e.object)}}})],1):e._e(),e._e(),e.visible_delete?a("a-tooltip",{attrs:{placement:"top",title:"Borrar Elemento"}},[a("a-icon",{staticStyle:{"padding-right":"10px"},attrs:{type:"delete",theme:"twoTone",twoToneColor:"red"},on:{click:e.showDeleteConfirm}})],1):e._e()],1)}),p=[],_={name:"action_buttons",props:{object:Object,v_instance:Object,class_name:{type:String,default:"BaseModel"},visible_edit:{type:Boolean,default:!0},visible_delete:{type:Boolean,default:!0},visible_view:{type:Boolean,default:!0}},data:function(){return{model:{}}},methods:{showDeleteConfirm:function(){var e=this;this.$confirm({title:"Desea eliminar este elemento?",icon:"delete",okText:"Yes",okType:"danger",class:"delete_confirm",cancelText:"No",onOk:function(){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.model.delete();case 3:a=t.sent,i["m"](a,"delete"),e.v_instance.load_data(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),i["l"](t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},onCancel:function(){}})}},mounted:function(){this.model=l["instance"](this.class_name,this.object)}},h=_,b=(a("cbbf"),a("2877")),v=Object(b["a"])(h,f,p,!1,null,"65840001",null),g=v.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},x=[],w=(a("25eb"),a("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b",[e._v("Rango")]),e._v(" "+e._s(e.start)+"-"+e._s(e.end)+" "),a("b",[e._v("Total")]),e._v(" "+e._s(e.total)),a("span"),a("a-tooltip",{attrs:{placement:"topLeft",title:"Refrescar"}},[a("a-button",{staticStyle:{"margin-left":"10px",height:"28px",width:"28px","font-size":"16px"},attrs:{shape:"circle",icon:"reload"},on:{click:function(t){return e.load_data()}}})],1)],1)}),C=[],k={name:"pagination_functions",inject:{load_data:{default:function(){}}},props:{start:Number,end:Number,total:Number,vm:Object},data:function(){return{}},methods:{},mounted:function(){}},S=k,E=Object(b["a"])(S,w,C,!1,null,"12fc0e02",null),j=E.exports,O={name:"VAntdpagination",inject:{load_data:{default:function(){}}},props:{load_data:Function},data:function(){return{total:0,defaultCurrent:1,defaultPageSize:10,pageSize:10,hideOnSinglePage:!1,pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,size:"small",simple:!1,showSizeChanger:!0,view_instance:Object,showTotal:this.show_total}},watch:{pageSizeOptions:function(){this.pageSize=Number.parseInt(this.pageSizeOptions[0])}},computed:{},components:{},mounted:function(){},methods:{show_total:function(e,t){var a=this.$createElement,o=t[0],n=t[1];return a(j,{attrs:{start:o,end:n,total:e,load_data:this.$options.props.load_data}})}}},$=O,D=Object(b["a"])($,y,x,!1,null,"1c669fd3",null),R=D.exports,T=a("2b0e"),K={name:"datos_table",components:{action_buttons:g},provide:function(){return{load_data:this.load_data}},inject:{close_modal:{default:function(){}},set_data:{default:function(){}},show_form:{default:function(){}},setSelectedDatos:{default:function(){}}},props:{columns:{type:Array,default:function(){return[]}},show_selection:{type:Boolean,default:!0},type_selection:{type:String,default:"checkbox"},hide_default_selection:{type:Boolean,default:!0},params_search:{type:Object,default:function(){}},paginate:{type:Boolean,default:!1},visible_heading:{type:Boolean,default:!0},load_init:{type:Boolean,default:!0},table_name:{type:String,default:""},url:{type:String,default:null},id_table:{type:String,default:""},visible_actions:{type:Boolean,default:!0},visible_edit:{type:Boolean,default:!0},visible_delete:{type:Boolean,default:!0},visible_view:{type:Boolean,default:!1},static_data:{type:Array,default:null}},data:function(){return{text_select:"Seleccionar todo",selectedRowKeys:[],list:[],page:1,pageSize:10,orderby_params:{},pagination:new T["default"](R),selected_model:l["instance"](this.table_name),loading:!1,data:this.static_data?this.static_data:[],filter:"",filter_debounce:"",show_modal_form:!1,page_params_search:{}}},computed:{page_params:function(){return{pagination:{page:this.page,pageSize:this.pageSize}}},rowSelection:function(){var e=this,t=this.selectedRowKeys;return{selectedRowKeys:t,type:this.type_selection,hideDefaultSelections:this.hide_default_selection,selections:[{key:"all-data",text:this.text_select,onSelect:function(){e.selectedRowKeys.length===e.data.length?e.selectedRowKeys=[]:e.selectedRowKeys=e.data.map((function(t){return t[e.id_table]}))}}],onSelection:this.onSelection,onChange:this.onChange}}},watch:{filter:function(){this.paginate||(this.data=this.list.data.filter(this.filter_data),this.pagination.total=this.data.length)},params_search:function(e,t){this.load_data()},filter_debounce:function(e,t){this.paginate&&(this.page_params_search=Object(m["a"])({},l["statics"](this.table_name).filter_params(this.filter_debounce,this.columns)),this.load_data())},selectedRowKeys:function(){this.selectedRowKeys.length===this.data.length?this.text_select="Desseleccionar todo":this.text_select="Seleccionar todo"}},methods:{params:function(){return this.paginate?Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])({},this.page_params_search),this.page_params),this.orderby_params),this.params_search):this.params_search},exportToExcel:function(){i["g"](this)},update_filter_debounce:function(e){this.filter_debounce=e},exportToCSV:function(){i["f"](this)},filter_data:function(e){return i["i"](e,this.filter,this.columns)},onChange:function(e){this.selectedRowKeys=e},showDeleteConfirm:function(){if(0!==this.selectedRowKeys.length){var e=this;this.$confirm({title:"Eliminar elementos seleccionados?",icon:"delete",okText:"Si",okType:"danger",class:"delete_confirm",cancelText:"No",onOk:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l["statics"](t.table_name).delete_by_ids(e.selectedRowKeys);case 3:o=a.sent,i["m"](o,"deleted"),e.selectedRowKeys=[],e.load_data(),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](0),i["l"](a.t0),e.selectedRowKeys=[];case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},onCancel:function(){}})}else i["k"]("error","Eliminar elementos seleccionados","Debe seleccionar al menos un elemento")},change_table:function(e,t,a){if(this.paginate){if(this.page=e.current,this.pageSize=e.pageSize,"{}"!==JSON.stringify(a)){var o="ascend"===a.order?"asc":"desc";this.orderby_params.orderby=[],this.orderby_params.orderby.push(Object(u["a"])({},a.field,o))}this.load_data()}},load_data:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.static_data){t.next=2;break}return t.abrupt("return",0);case 2:if(t.prev=2,e.loading=!0,null!=e.url){t.next=10;break}return t.next=7,l["statics"](e.table_name).list(e.params());case 7:t.t0=t.sent,t.next=13;break;case 10:return t.next=12,l["statics"](e.table_name).custom("get",e.url,e.params());case 12:t.t0=t.sent;case 13:e.list=t.t0,e.data=e.paginate?e.list.data.data:e.list.data.filter(e.filter_data),e.set_data(e.data),e.loading=!1,e.pagination.total=e.paginate?e.list.data.total:e.data.length,t.next=24;break;case 20:t.prev=20,t.t1=t["catch"](2),i["l"](t.t1),e.loading=!1;case 24:case"end":return t.stop()}}),t,null,[[2,20]])})))()},onEditing:function(e){this.selected_model=l["instance"](this.table_name,e),this.setSelectedDatos(this.selected_model),this.show_form()}},mounted:function(){this.load_init&&this.load_data(),this.self=this}},z=K,B=Object(b["a"])(z,c,d,!1,null,"509a467e",null),L=B.exports,N={name:"datos_list",provide:function(){var e=this;return{close_modal:this.onCloseModal,set_data:this.set_data,show_form:this.show_form,load_data:function(){e.$refs.datos_table.load_data()},setSelectedDatos:this.setSelectedDatos}},data:function(){return{data:[],width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,self:null,selected_datos:l["instance"]("Datos"),show_modal_form:!1,paginate:!1,params_search:{relations:[]},mb:l}},components:{datos_form:r["default"],datos_table:L},computed:{promedio:function(){var e=0;return this.data.forEach((function(t){e+=t.edad})),e},masculino:function(){var e=0;return this.data.forEach((function(t){"Masculino"===t.sexo&&e++})),e},femenino:function(){var e=0;return this.data.forEach((function(t){"Femenino"===t.sexo&&e++})),e},columns:function(){return this.width>600?l["statics"]("Datos").show_columns([],!1):l["statics"]("Datos").show_columns(["apellidos","edad"],!1)},mayor_edad:function(){var e=0,t={};return this.data.forEach((function(a){a.edad>e&&(e=a.edad,t=a)})),t.nombre+" "+t.apellidos},menor_edad:function(){var e=1e5,t={};return this.data.forEach((function(a){a.edad<e&&(e=a.edad,t=a)})),t.nombre+" "+t.apellidos}},mounted:function(){window.addEventListener("resize",this.getDimensions)},unmounted:function(){window.removeEventListener("resize",this.getDimensions)},methods:{getDimensions:function(){console.log(document.documentElement.clientWidth),this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight},set_data:function(e){this.data=e},setSelectedDatos:function(e){this.selected_datos=e},onCloseModal:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.selected_datos=l["instance"]("Datos"),this.show_modal_form=!1,t&&this.$refs.datos_table.load_data()},show_form:function(){this.show_modal_form=!this.show_modal_form},showDeleteConfirm:function(){if(0!==this.$refs.datos_table.selectedRowKeys.length){var e=this;this.$confirm({title:"Eliminar elementos seleccionados?",icon:"delete",okText:"Si",okType:"danger",class:"delete_confirm",cancelText:"No",onOk:function(){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["statics"]("Datos").delete_by_ids(e.$refs.datos_table.selectedRowKeys);case 3:a=t.sent,i["m"](a,"deleted"),e.$refs.datos_table.selectedRowKeys=[],e.$refs.datos_table.load_data(),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),i["l"](t.t0),e.$refs.datos_table.selectedRowKeys=[];case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},onCancel:function(){}})}else i["k"]("error","Eliminar elementos seleccionados","Debe seleccionar al menos un elemento")}}},A=N,M=(a("cb87"),Object(b["a"])(A,o,n,!1,null,null,null));t["default"]=M.exports},"25eb":function(e,t,a){var o=a("23e7"),n=a("c20d");o({target:"Number",stat:!0,forced:Number.parseInt!=n},{parseInt:n})},3401:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"form_container",staticClass:"card position-relative mb-0",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save_model()}}},[e.loading?a("spinner"):e._e(),a("div",{staticClass:"card-body p-0"},[a("tc-form",{ref:"form",staticClass:"form-row",attrs:{feedbacks:e.mb.statics("Datos").feedbacks,vobject:e.$v,nested:"datos"}},[a("tc-form-item",{staticClass:"form-group mb-0 col-md-6 px-3"},[a("label",[e._v("Nombre"),a("span",{staticClass:"required_field"},[e._v("*")])]),a("tc-input",{attrs:{placeholder:"Ingrese el valor",name:"nombre"},model:{value:e.datos.nombre,callback:function(t){e.$set(e.datos,"nombre",t)},expression:"datos.nombre"}})],1),a("tc-form-item",{staticClass:"form-group mb-0 col-md-6 px-3"},[a("label",[e._v("Apellidos"),a("span",{staticClass:"required_field"},[e._v("*")])]),a("tc-input",{attrs:{placeholder:"Ingrese el valor",name:"apellidos"},model:{value:e.datos.apellidos,callback:function(t){e.$set(e.datos,"apellidos",t)},expression:"datos.apellidos"}})],1),a("tc-form-item",{staticClass:"form-group mb-0 col-md-6 px-3"},[a("label",[e._v("Edad"),a("span",{staticClass:"required_field"},[e._v("*")])]),a("tc-input",{attrs:{placeholder:"Ingrese el valor",type_car:"num",name:"edad"},model:{value:e.datos.edad,callback:function(t){e.$set(e.datos,"edad",t)},expression:"datos.edad"}})],1),a("tc-form-item",{staticClass:"form-group mb-0 col-md-6 px-3"},[a("label",[e._v("Sexo"),a("span",{staticClass:"required_field"},[e._v("*")])]),a("tc-autocomplete",{ref:"select_role",attrs:{placeholder:"Seleccione el Sexo",name:"sexo",successFeed:!1,idKey:"sexo",textKey:"sexo",defaultValue:e.datos.sexo,"data-source":e.sexo},model:{value:e.datos.sexo,callback:function(t){e.$set(e.datos,"sexo",t)},expression:"datos.sexo"}})],1),a("tc-form-item",{staticClass:"form-group mb-0 col-md-6 px-3"},[a("label",[e._v("Correo"),a("span",{staticClass:"required_field"},[e._v("*")])]),a("tc-input",{attrs:{placeholder:"Ingrese el valor",name:"correo"},model:{value:e.datos.correo,callback:function(t){e.$set(e.datos,"correo",t)},expression:"datos.correo"}})],1)],1)],1),a("div",{staticClass:"card-footer p-0"},[a("a-button-group",{staticStyle:{"margin-bottom":"10px","margin-top":"10px"}},[a("a-tooltip",{attrs:{placement:"topLeft",title:e.datos.get_id()?"Actualizar elemento":"Añadir nuevo elemento"}},[a("a-button",{attrs:{disabled:e.loading,type:"primary"},on:{click:function(t){return e.save_model()}}},[e._v(e._s(e.button_text))])],1),a("a-tooltip",{attrs:{placement:"topLeft",title:"Cancelar acción"}},[a("a-button",{attrs:{disabled:e.loading,type:"danger"},on:{click:function(t){return e.cancel()}}},[e._v("Cancel")])],1)],1)],1)],1)},n=[],s=a("2494"),i=a("5622"),l={name:"datos_form",inject:{close_modal:{default:function(){}},load_data:{default:function(){}},refresh:{default:function(){}}},props:{model:{type:Object,default:function(){}},modal:{type:Boolean,default:!1},popoverPlacement:{type:String,default:"bottomLeft"}},validations:i["statics"]("Datos").validations,data:function(){return{loading:!1,sexo:[{sexo:"Masculino"},{sexo:"Femenino"}],mb:i,datos:i["instance"]("Datos")}},computed:{datosFeedbacks:function(){return i["statics"]("Datos").feedbacks},button_text:function(){return this.datos.get_id()?"Actualizar":"Añadir"}},mounted:function(){this.datos=i["instance"]("Datos",this.model)},components:{},methods:{cancel:function(){this.model?this.modal?this.close_modal(null,!1):this.$router.push({name:"datos_list"}):this.$emit("close_modal",!1)},save_model:function(){var e=this;if(this.$refs.form.validate()){this.loading=!0;var t=this.datos.get_id()?"actualizado":"añadido";this.datos.save().then((function(a){s["m"](a,t),e.datos=i["instance"]("Datos",{}),e.refresh(),e.$refs.form.vobject.$reset(),e.loading=!1})).catch((function(t){e.loading=!1,s["l"](t)}))}}}},r=l,c=(a("fd78"),a("2877")),d=Object(c["a"])(r,o,n,!1,null,"2b78590f",null);t["default"]=d.exports},3690:function(e,t,a){},b46f:function(e,t,a){},b8d1:function(e,t,a){},c20d:function(e,t,a){var o=a("da84"),n=a("d039"),s=a("e330"),i=a("577e"),l=a("58a8").trim,r=a("5899"),c=o.parseInt,d=o.Symbol,u=d&&d.iterator,m=/^[+-]?0x/i,f=s(m.exec),p=8!==c(r+"08")||22!==c(r+"0x16")||u&&!n((function(){c(Object(u))}));e.exports=p?function(e,t){var a=l(i(e));return c(a,t>>>0||(f(m,a)?16:10))}:c},cb87:function(e,t,a){"use strict";a("b46f")},cbbf:function(e,t,a){"use strict";a("3690")},fd78:function(e,t,a){"use strict";a("b8d1")}}]);
//# sourceMappingURL=chunk-f2844d74.js.map